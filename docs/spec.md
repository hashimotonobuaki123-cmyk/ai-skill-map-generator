# AI Skill Map Generator 機能仕様書

このドキュメントは、**採用担当 / エンジニアの方向けに「このプロダクトが何をするものか」を一覧で把握してもらうための簡易仕様書**です。

## 1. 概要

- 目的: 若手 Web エンジニアの「初めての転職」におけるスキル棚卸し・求人マッチング・準備状況の可視化を支援する。
- 対象ユーザー: 20〜30代の Web エンジニア（フロントエンド / フルスタック想定）。
- 提供価値:
  - スキル・職務経歴の言語化
  - 30 / 90 日の学習ロードマップ
  - 求人票とのマッチングスコア
  - 転職準備スコア（0〜100）による「今どれくらい動けるか」の可視化

### 1.1 前提・制約

- ブラウザからの利用を前提としたシングルユーザー向けアプリ（マルチテナント SaaS ではない）。
- スキルマップの「保存」は Supabase Auth によるログイン済みユーザーのみを対象とする。  
  （ゲストでもフォーム入力〜結果確認までは可能だが、履歴としては残さない設計に拡張予定。）
- OpenAI / Supabase の利用は開発者が用意した API キー・プロジェクトを前提とする。

## 2. 画面一覧

1. ホーム `/`
   - スキル・職務経歴入力フォーム
   - キャリアゴール選択（プルダウン）
   - GitHub リポジトリ URL（任意）
   - サンプル文挿入ボタン

2. 結果画面 `/result/:id`
   - 概要タブ
     - スキルレーダーチャート
     - 転職準備スコアカード
     - クラス表示（〇〇メイジ等）＋バッジ
     - 強み / 弱み
     - プロフィールストーリー
   - 学習計画タブ
     - 30 日 / 90 日ロードマップ（タイムライン表示）
   - キャリア & 求人タブ
     - キャリアリスクレーダー
     - 求人票マッチング（マッチ度 / 不足スキル / 専用ロードマップ）
   - エクスポートタブ
     - Markdown / JSON / 職務経歴書テンプレートのコピー

3. ダッシュボード `/dashboard`
   - スキルマップ履歴一覧
   - メイン強みカテゴリのバッジ表示
   - ログイン済みの場合は自ユーザー分のみ表示

4. ポートフォリオ整理 `/portfolio`
   - GitHub / プロジェクト URL 入力
   - 案件 TOP3 の要約・アピールポイント・Markdown 出力

5. このアプリについて `/about`
   - サービスの狙い
   - 自分の役割
   - 技術スタック
   - 今後の改善アイデア

6. Usage Logs ダッシュボード `/admin/usage`（開発・ポートフォリオ用）
   - イベント別累計カウント
   - 直近 7 日間の日別 × イベント別カウント

## 3. 機能一覧（要件）

- **スキルマップ生成**
  - 入力: スキル・職務経歴テキスト、キャリアゴール、GitHub URL（任意）、ユーザー ID（任意）
  - 出力: カテゴリ別レベル、強み / 弱み、30 / 90 日ロードマップ、次に学ぶべきスキル一覧
  - 保存: Supabase `skill_maps` に JSON で保存

- **転職準備スコア**
  - 入力: skill_maps のカテゴリレベル + 求人マッチング結果 + リスク + 準備スコア
  - 出力: スコア（0〜100）、レベル（high / medium / low）、コメント
  - ロジック: `lib/readiness.ts` の純粋関数を利用

- **求人マッチング**
  - 入力: スキルマップ + 求人票テキスト or URL
  - 出力: マッチ度 %、不足スキル TOP3、差分を埋めるミニロードマップ

- **キャリアリスク**
  - 出力: 陳腐化 / 属人化 / 自動化リスク（0〜100）とレーダーチャート

- **ポートフォリオ棚卸し**
  - 出力: ポートフォリオに載せるべき案件 TOP3 と Markdown 形式の出力

- **認証**
  - Email + パスワードでの新規登録 / ログイン（Supabase Auth）
  - ログインユーザーの `user_id` を `skill_maps` に保存

- **Usage Logs**
  - 各機能の利用イベントを `usage_logs` に記録
  - `/admin/usage` でイベント別・日別の利用状況を可視化

## 4. 非機能要件（抜粋）

- パフォーマンス: SPA ベースで 3G 回線でも主要画面が実用レベルで動作することを意識。
- セキュリティ: Supabase RLS を前提としたユーザごとのデータ分離設計。
- 品質:
  - TypeScript + Zod による型安全性
  - Vitest / Playwright による自動テスト
  - GitHub Actions による CI（build + test）

### 4.1 範囲外（Out of Scope）

- 企業側アカウントや複数ユーザー管理画面は、本仕様書の対象外（将来の拡張候補として `docs/design-notes.md` に記載）。
- 転職サービスとの直接な API 連携（Findy 等）は行わない前提。


