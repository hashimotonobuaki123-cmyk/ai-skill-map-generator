# 設計メモ・今後の改善アイデア

## 現状の設計で意識したこと

- ユーザーストーリー:
  - 「3分で自分の今と次がわかる」ことをゴールに、画面構成やタブの順番を決めています。
  - ホーム → 結果（概要） → キャリア & 求人 → エクスポート、という流れを想定。

- API 設計:
  - すべて JSON ベース & Zod スキーマで定義し、Next.js Route Handler に集約。
  - フロントエンドからの呼び出しは `lib/apiClient.ts` の `postJson` に統一。

- ロジック分離:
  - 転職準備スコアのようなビジネスロジックは `lib/readiness.ts` の純粋関数として実装。
  - Supabase アクセスは `lib/supabaseClient.ts` / `lib/skillMapLoader.ts` に集約。

- 品質・運用:
  - Vitest によるユニットテスト + Playwright による簡易 E2E テスト。
  - GitHub Actions（`.github/workflows/ci.yml`）で `npm run build` と `npm run test` を自動実行。
  - `usage_logs` による機能ごとの利用ログと `/admin/usage` での可視化。

## 今後の改善候補（技術）

- OpenAI Responses API への完全移行とプロンプトの整理
- SkillMap のバージョニング（同一ユーザーの長期的な成長曲線を比較できるようにする）
- RLS ポリシーの細かいチューニングと、本番運用レベルでの検証
- コンポーネント分割と Storybook 導入による UI カタログ化（余力があれば）

## 今後の改善候補（プロダクト）

- 企業側アカウントを想定した「候補者スキルマップ一覧」ビュー
- チームリーダー / メンター向けに、メンバーの成長を俯瞰できるダッシュボード
- Findy など他サービスとの連携を見据えたスキーマ設計の再整理

## 面接・ポートフォリオでの使い方メモ

- GitHub の README と合わせて、`docs/` 以下のファイルを「設計・仕様をどこまで言語化しているか」の補足資料として見せる想定です。
- `/about` 画面とセットで、このドキュメントを参照しながら設計の意図や今後の改善方針を説明できます。


